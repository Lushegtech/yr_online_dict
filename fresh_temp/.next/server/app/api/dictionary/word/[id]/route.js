"use strict";(()=>{var e={};e.id=453,e.ids=[453],e.modules={1708:e=>{e.exports=require("node:process")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7066:e=>{e.exports=require("node:tty")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16698:e=>{e.exports=require("node:async_hooks")},25366:(e,t,r)=>{r.d(t,{A:()=>o,K:()=>i});var s=r(18601);let i={async searchWords({query:e,page:t=1,limit:r=20,includeExamples:i=!0}){let o=e.toLowerCase().normalize("NFD"),a=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=[...await s.A.word.findMany({where:{OR:[{word:{equals:e,mode:"insensitive"}},{word:{equals:o,mode:"insensitive"}},{word:{equals:a,mode:"insensitive"}},{word:{startsWith:e,mode:"insensitive"}},{word:{startsWith:o,mode:"insensitive"}},{word:{startsWith:a,mode:"insensitive"}},{word:{contains:e,mode:"insensitive"}},{word:{contains:o,mode:"insensitive"}},{word:{contains:a,mode:"insensitive"}},{translations:{some:{text:{equals:e,mode:"insensitive"}}}},{translations:{some:{text:{startsWith:e,mode:"insensitive"}}}},{translations:{some:{text:{contains:e,mode:"insensitive"}}}}]},include:{translations:!0,examples:!!i&&{take:5},alphabet:!0},orderBy:{word:"asc"},skip:(t-1)*r,take:3*r})].sort((t,r)=>{let s=t.word.toLowerCase(),i=r.word.toLowerCase(),o=e.toLowerCase();if(s===o&&i!==o)return -1;if(s!==o&&i===o)return 1;let a=s.normalize("NFD"),n=i.normalize("NFD"),d=o.normalize("NFD");if(a===d&&n!==d)return -1;if(a!==d&&n===d)return 1;let l=a.replace(/[\u0300-\u036f]/g,""),u=n.replace(/[\u0300-\u036f]/g,""),c=d.replace(/[\u0300-\u036f]/g,"");if(l===c&&u!==c)return -1;if(l!==c&&u===c)return 1;let p=s.startsWith(o),w=i.startsWith(o);if(p&&!w)return -1;if(!p&&w)return 1;let f=a.startsWith(d),h=n.startsWith(d);if(f&&!h)return -1;if(!f&&h)return 1;let m=l.startsWith(c),x=u.startsWith(c);if(m&&!x)return -1;if(!m&&x)return 1;let y=t.translations.some(e=>e.text.toLowerCase()===o),v=r.translations.some(e=>e.text.toLowerCase()===o);if(y&&!v)return -1;if(!y&&v)return 1;let g=t.translations.some(e=>e.text.toLowerCase().startsWith(o)),A=r.translations.some(e=>e.text.toLowerCase().startsWith(o));if(g&&!A)return -1;if(!g&&A)return 1;let q=t.translations.some(e=>e.text.toLowerCase().includes(o)),W=r.translations.some(e=>e.text.toLowerCase().includes(o));if(q&&!W)return -1;if(!q&&W)return 1;let k=s.includes(o),C=i.includes(o);if(k&&!C)return -1;if(!k&&C)return 1;let F=a.includes(d),D=n.includes(d);if(F&&!D)return -1;if(!F&&D)return 1;let b=l.includes(c),M=u.includes(c);return b&&!M?-1:!b&&M?1:s.localeCompare(i)}).slice(0,r),d=await s.A.word.count({where:{OR:[{word:{contains:e,mode:"insensitive"}},{word:{contains:o,mode:"insensitive"}},{word:{contains:a,mode:"insensitive"}},{translations:{some:{text:{contains:e,mode:"insensitive"}}}}]}});return{words:n,pagination:{total:d,page:t,limit:r,totalPages:Math.ceil(d/r)}}},getWordById:async e=>await s.A.word.findUnique({where:{id:e},include:{translations:!0,examples:!0,alphabet:!0}}),async getWordsByAlphabet(e,t=1,r=50){let i=await s.A.alphabet.findUnique({where:{letter:e}});if(!i)return null;let o=await s.A.word.findMany({where:{alphabetId:i.id},include:{translations:!0},orderBy:{word:"asc"},skip:(t-1)*r,take:r}),a=await s.A.word.count({where:{alphabetId:i.id}});return{alphabet:i,words:o,pagination:{total:a,page:t,limit:r,totalPages:Math.ceil(a/r)}}},async getWordOfTheDay(){let e=new Date;e.setHours(0,0,0,0);let t=await s.A.featured.findFirst({where:{startDate:{lte:e},OR:[{endDate:{gte:e}},{endDate:null}]},include:{word:{include:{translations:!0,examples:{take:2}}}},orderBy:{startDate:"desc"}});return t?.word?t.word:await s.A.word.findFirst({where:{translations:{some:{}}},include:{translations:!0,examples:{take:2}},skip:Math.floor(100*Math.random())})},async getAllAlphabets(){let e=await s.A.alphabet.findMany({orderBy:{letter:"asc"}});return await Promise.all(e.map(async e=>{let t=await s.A.word.count({where:{alphabetId:e.id}});return{id:e.id,letter:e.letter,wordCount:t}}))},async getRandomCulturalFact(){let e=Math.floor(Math.random()*await s.A.culturalFact.count({where:{isActive:!0}}));return await s.A.culturalFact.findFirst({where:{isActive:!0},skip:e})},getAllCulturalFacts:async()=>await s.A.culturalFact.findMany({where:{isActive:!0},orderBy:{createdAt:"desc"}})},o=i},29021:e=>{e.exports=require("fs")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{e.exports=require("node:child_process")},33873:e=>{e.exports=require("path")},40436:(e,t,r)=>{r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>u,serverHooks:()=>w,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>p});var s={};r.r(s),r.d(s,{GET:()=>l});var i=r(30781),o=r(60554),a=r(31625),n=r(96396),d=r(25366);async function l(e,t){try{let{id:e}=await t.params;if(console.log(`[API] Fetching word details for ID: ${e}`),!e)return n.NextResponse.json({error:"Word ID is required"},{status:400});let r=await d.A.getWordById(e);if(!r)return console.log(`[API] Word not found for ID: ${e}`),n.NextResponse.json({error:"Word not found"},{status:404});return console.log(`[API] Successfully retrieved word: ${r.word}`),n.NextResponse.json({word:r})}catch(e){return console.error("Get word error:",e),n.NextResponse.json({error:"Failed to get word details"},{status:500})}}let u=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/dictionary/word/[id]/route",pathname:"/api/dictionary/word/[id]",filename:"route",bundlePath:"app/api/dictionary/word/[id]/route"},resolvedPagePath:"C:\\Users\\adebi\\Desktop\\yr_online_dict\\yr_online_dict\\fresh_temp\\src\\app\\api\\dictionary\\word\\[id]\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:p,serverHooks:w}=u;function f(){return(0,a.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:p})}},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:e=>{e.exports=require("node:os")},51455:e=>{e.exports=require("node:fs/promises")},57975:e=>{e.exports=require("node:util")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{e.exports=require("node:fs")},76760:e=>{e.exports=require("node:path")},77598:e=>{e.exports=require("node:crypto")},78474:e=>{e.exports=require("node:events")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[683,146,329],()=>r(40436));module.exports=s})();