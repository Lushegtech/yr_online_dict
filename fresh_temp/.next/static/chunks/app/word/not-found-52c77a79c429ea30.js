(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{1941:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(7982).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2410:(e,s,a)=>{Promise.resolve().then(a.bind(a,6664))},6664:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var r=a(3365),t=a(1521),i=a(627),n=a(8436),o=a(8159),l=a(8005);let c=(0,a(7982).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var d=a(6712),u=a(6296),x=a(9534),m=a.n(x),h=a(7502);function g(e){let{searchTerm:s,suggestions:a=[]}=e,[i,n]=(0,t.useState)([]),[x,g]=(0,t.useState)(!1),f=e=>{let s=e.normalize("NFD");return/[\u0300-\u036f]/.test(s)?(0,r.jsx)("span",{children:Array.from(s).map((e,s)=>{let a=/[\u0300-\u036f]/.test(e);return(0,r.jsx)("span",{className:a?"text-yoruba-coral font-bold":"",children:e},s)})}):(0,r.jsx)("span",{children:e})};(0,t.useEffect)(()=>{if(a&&a.length>0)return void n(a);async function e(){g(!0);try{let e=await fetch("/api/dictionary/suggestions?q=".concat(encodeURIComponent(s),"&limit=7&detailed=true"));if(!e.ok)throw Error("Failed to fetch suggestions");let a=await e.json();if(a.suggestions&&Array.isArray(a.suggestions)){let e=Array.isArray(a.suggestions[0])||"string"==typeof a.suggestions[0]?a.suggestions.map(e=>({id:e,word:e})):a.suggestions;n(e)}}catch(e){console.error("Error fetching similar words:",e)}finally{g(!1)}}s&&e()},[s,a]);let y=/[\u0300-\u036f]/.test(s.normalize("NFD")),p=i.some(e=>/[\u0300-\u036f]/.test(e.word.normalize("NFD")));return(0,r.jsxs)(o.Zp,{className:"border-yoruba-indigo/20 shadow-adire overflow-hidden",children:[(0,r.jsx)(o.aR,{className:"bg-yoruba-indigo/5 border-b border-yoruba-indigo/10",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"rounded-full bg-yoruba-coral/10 p-2",children:(0,r.jsx)(c,{className:"h-6 w-6 text-yoruba-coral"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.ZB,{className:"text-2xl text-yoruba-indigo",children:"Word Not Found"}),(0,r.jsxs)("p",{className:"mt-1 text-muted-foreground",children:["We couldn't find \"",(0,r.jsx)("span",{className:"font-medium",children:s}),'" in our dictionary']}),!y&&p&&(0,r.jsxs)("div",{className:"mt-2 flex items-center p-2 bg-yoruba-gold/10 text-sm rounded-md",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 text-yoruba-gold mr-2 flex-shrink-0"}),(0,r.jsx)("p",{className:"text-yoruba-indigo/80",children:"Yoruba words often use tonal marks (diacritics). Try searching with proper tonal marks for better results."})]})]})]})}),(0,r.jsx)(o.Wu,{className:"pt-6",children:i.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-yoruba-indigo",children:"Did you mean:"}),(0,r.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,r.jsx)(m(),{href:"/word/".concat(encodeURIComponent(e.id)),className:"block",children:(0,r.jsxs)(l.$,{variant:"outline",className:"w-full justify-start text-left hover:bg-yoruba-indigo/5 hover:text-yoruba-indigo transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 text-yoruba-indigo/70"}),(0,r.jsx)(h.Bc,{children:(0,r.jsxs)(h.m_,{children:[(0,r.jsx)(h.k$,{asChild:!0,children:(0,r.jsx)("span",{className:"font-medium",children:f(e.word)})}),(0,r.jsx)(h.ZI,{children:(0,r.jsx)("p",{children:"Yoruba word with tonal marks highlighted"})})]})}),e.partOfSpeech&&(0,r.jsx)("span",{className:"text-xs bg-yoruba-indigo/10 text-yoruba-indigo/70 px-2 py-1 rounded",children:e.partOfSpeech})]}),e.translation&&(0,r.jsx)("span",{className:"block text-sm text-muted-foreground mt-1 ml-6",children:e.translation})]})},e.id))})]}):x?(0,r.jsx)("div",{className:"py-8 flex justify-center",children:(0,r.jsx)("div",{className:"animate-pulse text-yoruba-indigo/50",children:"Finding similar words..."})}):(0,r.jsxs)("div",{className:"py-8 text-center",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"No similar words found. You can:"}),(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsx)(l.$,{variant:"outline",className:"w-full max-w-xs mx-auto",asChild:!0,children:(0,r.jsx)(m(),{href:"/contribute",children:"Contribute this word to our dictionary"})}),(0,r.jsx)(l.$,{variant:"ghost",className:"w-full max-w-xs mx-auto",asChild:!0,children:(0,r.jsx)(m(),{href:"/",children:"Back to search"})})]})]})})]})}var f=a(1941);function y(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)().get("q")||"",[a,o]=(0,t.useState)([]);return(0,t.useEffect)(()=>{s&&fetch("/api/dictionary/suggestions?q=".concat(encodeURIComponent(s),"&limit=5")).then(e=>e.json()).then(e=>{e.suggestions&&Array.isArray(e.suggestions)&&o(e.suggestions.map(e=>"string"==typeof e?{id:e,word:e}:e))}).catch(e=>{console.error("Error fetching suggestions:",e)})},[s]),(0,r.jsx)(n.MainLayout,{children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,r.jsxs)(l.$,{onClick:()=>e.back(),variant:"outline",className:"mb-8 flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),"Back"]}),(0,r.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,r.jsx)(g,{searchTerm:s,suggestions:a})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[281,995,898,534,255,51,347,870,358],()=>s(2410)),_N_E=e.O()}]);